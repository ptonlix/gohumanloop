# Contributing to GoHumanLoop

æ„Ÿè°¢æ‚¨å¯¹ GoHumanLoop é¡¹ç›®çš„å…³æ³¨ï¼æˆ‘ä»¬æ¬¢è¿å„ç§å½¢å¼çš„è´¡çŒ®ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š

- ğŸ› Bug ä¿®å¤
- âœ¨ æ–°åŠŸèƒ½å¼€å‘
- ğŸ“š æ–‡æ¡£æ”¹è¿›
- ğŸ§ª æµ‹è¯•ç”¨ä¾‹è¡¥å……
- ğŸ’¡ åŠŸèƒ½å»ºè®®å’Œè®¨è®º

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.10+
- [uv](https://docs.astral.sh/uv/) (æ¨èçš„åŒ…ç®¡ç†å·¥å…·)

### å¼€å‘ç¯å¢ƒè®¾ç½®

1. **Fork å¹¶å…‹éš†ä»“åº“**

   ```bash
   git clone https://github.com/your-username/gohumanloop.git
   cd gohumanloop
   ```

2. **å®‰è£…ä¾èµ–**

   ```bash
   uv sync --all-extras
   ```

3. **å®‰è£…å¼€å‘å·¥å…·**
   ```bash
   make githooks  # å®‰è£… pre-push é’©å­
   ```

## ğŸ”§ å¼€å‘å·¥ä½œæµ

### ä»£ç è´¨é‡æ£€æŸ¥

åœ¨æäº¤ä»£ç å‰ï¼Œè¯·è¿è¡Œå®Œæ•´çš„ä»£ç è´¨é‡æ£€æŸ¥ï¼š

```bash
make check
```

è¿™ä¸ªå‘½ä»¤ä¼šæ‰§è¡Œï¼š

- **pre-commit**: ä»£ç æ ¼å¼åŒ–å’ŒåŸºç¡€æ£€æŸ¥
- **mypy**: é™æ€ç±»å‹æ£€æŸ¥
- **deptry**: ä¾èµ–é¡¹æ£€æŸ¥

### è¿è¡Œæµ‹è¯•

```bash
make test
```

æµ‹è¯•è¦†ç›–äº†ä»¥ä¸‹æ¨¡å—ï¼š

- `core/`: æ ¸å¿ƒæ¥å£å’Œç®¡ç†å™¨
- `providers/`: å„ç§æä¾›è€…å®ç°
- `adapters/`: æ¡†æ¶é€‚é…å™¨
- `utils/`: å·¥å…·å‡½æ•°

### å•ç‹¬è¿è¡Œå·¥å…·

```bash
# ä»…ç±»å‹æ£€æŸ¥
make typecheck

# ä»…è¿è¡Œ pre-commit æ£€æŸ¥
uv run pre-commit run -a

# è¿è¡Œç‰¹å®šæµ‹è¯•
uv run pytest tests/unit/core/ -v
```

## ğŸ“ ä»£ç è§„èŒƒ

### ä»£ç é£æ ¼

æˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹å·¥å…·ç¡®ä¿ä»£ç è´¨é‡ï¼š

- **Ruff**: ä»£ç æ ¼å¼åŒ–å’Œ linting
- **MyPy**: é™æ€ç±»å‹æ£€æŸ¥
- **Prettier**: Markdown å’Œé…ç½®æ–‡ä»¶æ ¼å¼åŒ–

### ç±»å‹æ³¨è§£

- æ‰€æœ‰å…¬å…± API å¿…é¡»åŒ…å«å®Œæ•´çš„ç±»å‹æ³¨è§£
- ä½¿ç”¨ `from __future__ import annotations` æ”¯æŒå‰å‘å¼•ç”¨
- éµå¾ª PEP 484 å’Œ PEP 526 è§„èŒƒ

### æ–‡æ¡£å­—ç¬¦ä¸²

ä½¿ç”¨ Google é£æ ¼çš„æ–‡æ¡£å­—ç¬¦ä¸²ï¼š

```python
def example_function(param1: str, param2: int) -> bool:
    """ç®€çŸ­æè¿°å‡½æ•°åŠŸèƒ½ã€‚

    Args:
        param1: å‚æ•°1çš„æè¿°
        param2: å‚æ•°2çš„æè¿°

    Returns:
        è¿”å›å€¼çš„æè¿°

    Raises:
        ValueError: å¼‚å¸¸æƒ…å†µçš„æè¿°
    """
    pass
```

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

### æ ¸å¿ƒæ¨¡å—

- `core/`: å®šä¹‰æ ¸å¿ƒæ¥å£å’Œé»˜è®¤ç®¡ç†å™¨
- `providers/`: å®ç°å„ç§äººæœºäº¤äº’æä¾›è€…ï¼ˆTerminalã€Emailã€API ç­‰ï¼‰
- `adapters/`: ä¸ AI æ¡†æ¶çš„é›†æˆé€‚é…å™¨
- `manager/`: é«˜çº§ç®¡ç†å™¨å®ç°
- `utils/`: é€šç”¨å·¥å…·å‡½æ•°

### æ·»åŠ æ–°åŠŸèƒ½

1. **æ–°çš„ Provider**: ç»§æ‰¿ `BaseProvider` å¹¶å®ç°å¿…è¦æ¥å£
2. **æ–°çš„ Adapter**: å®ç° `HumanloopAdapter` æ¥å£
3. **æ ¸å¿ƒåŠŸèƒ½**: éµå¾ªç°æœ‰çš„æ¥å£è®¾è®¡æ¨¡å¼

## ğŸ§ª æµ‹è¯•æŒ‡å—

### æµ‹è¯•ç»“æ„

```
tests/
â”œâ”€â”€ unit/           # å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ core/       # æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•
â”‚   â”œâ”€â”€ providers/  # æä¾›è€…æµ‹è¯•
â”‚   â”œâ”€â”€ adapters/   # é€‚é…å™¨æµ‹è¯•
â”‚   â””â”€â”€ utils/      # å·¥å…·å‡½æ•°æµ‹è¯•
â””â”€â”€ main.py         # æµ‹è¯•å…¥å£
```

### ç¼–å†™æµ‹è¯•

- ä¸ºæ–°åŠŸèƒ½ç¼–å†™å¯¹åº”çš„å•å…ƒæµ‹è¯•
- ä½¿ç”¨ `pytest` å’Œ `pytest-asyncio` è¿›è¡Œå¼‚æ­¥æµ‹è¯•
- ä¿æŒæµ‹è¯•è¦†ç›–ç‡åœ¨åˆç†æ°´å¹³

## ğŸ“¦ æ„å»ºå’Œå‘å¸ƒ

### æ„å»ºåŒ…

```bash
make build
```

### å‘å¸ƒï¼ˆç»´æŠ¤è€…ï¼‰

```bash
make build-and-publish
```

## ğŸ¤ æäº¤ Pull Request

1. **åˆ›å»ºåŠŸèƒ½åˆ†æ”¯**

   ```bash
   git checkout -b feature/your-feature-name
   ```

2. **æäº¤æ›´æ”¹**

   - ä½¿ç”¨æ¸…æ™°çš„æäº¤ä¿¡æ¯
   - æ¯ä¸ªæäº¤åº”è¯¥æ˜¯ä¸€ä¸ªé€»è¾‘å•å…ƒ
   - éµå¾ª [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒ

3. **æ¨é€å¹¶åˆ›å»º PR**

   ```bash
   git push origin feature/your-feature-name
   ```

4. **PR æ£€æŸ¥æ¸…å•**
   - [ ] ä»£ç é€šè¿‡æ‰€æœ‰è´¨é‡æ£€æŸ¥ (`make check`)
   - [ ] æµ‹è¯•é€šè¿‡ (`make test`)
   - [ ] æ·»åŠ äº†å¿…è¦çš„æµ‹è¯•ç”¨ä¾‹
   - [ ] æ›´æ–°äº†ç›¸å…³æ–‡æ¡£
   - [ ] PR æè¿°æ¸…æ™°è¯´æ˜äº†æ›´æ”¹å†…å®¹

## ğŸ’¬ è·å–å¸®åŠ©

- ğŸ“– æŸ¥çœ‹ [README](README.md) äº†è§£é¡¹ç›®æ¦‚è¿°
- ğŸ› é€šè¿‡ [Issues](https://github.com/ptonlix/gohumanloop/issues) æŠ¥å‘Šé—®é¢˜
- ğŸ’¡ åœ¨ [Discussions](https://github.com/ptonlix/gohumanloop/discussions) ä¸­è®¨è®ºæƒ³æ³•

## ğŸ“„ è®¸å¯è¯

é€šè¿‡è´¡çŒ®ä»£ç ï¼Œæ‚¨åŒæ„æ‚¨çš„è´¡çŒ®å°†åœ¨ [MIT License](LICENSE) ä¸‹æˆæƒã€‚

---

å†æ¬¡æ„Ÿè°¢æ‚¨çš„è´¡çŒ®ï¼ğŸ‰
